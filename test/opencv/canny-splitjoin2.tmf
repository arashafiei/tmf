tmf canny-splitjoin2 {
    topology {
        nodes = A,B,C1,C2,D1,D2,E,F;
	edges = e1(A,B), e2(B,C1), e3(B,C2), e4(C1,D1), e5(C2,D2), e6(D1,E), e7(D2,E), e8(E,F);
    }
    consumption {
	e2 = 2;
    }
    production {
	e8 = 2;
    }
    actor A {
    	computation = VideoCapture;
	file_name = pedestrian.mp4;
    }
    actor B {
    	computation = MatSplit;
	level = 2;
    	output.0 = e2;
	output.1 = e3;
    }
    actor C1 {
    	computation = CvtColor;
    }
    actor C2 {
    	computation = CvtColor;
    }
    actor D1 {
    	computation = Canny;
    }
    actor D2 {
    	computation = Canny;
    }
    actor E {
    	computation = MatJoin;
	level = 2;
	input.0 = e6;
	input.1 = e7;
    }
    actor F {
    	computation = ImageShow;
    }
    parameter {
	logging = true;
    }
}
